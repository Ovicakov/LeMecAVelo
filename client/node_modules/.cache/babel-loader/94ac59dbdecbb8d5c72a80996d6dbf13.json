{"ast":null,"code":"import _slicedToArray from \"/Users/clementhere/Documents/De\\u0301v_web/Projets_perso/LeMecAVelo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/clementhere/Documents/De\\u0301v_web/Projets_perso/LeMecAVelo/client/src/components/Admin.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Admin.css';\nexport default function Admin() {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        title = _useState2[0],\n        setTitle = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        description = _useState4[0],\n        setDescription = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        imageLink = _useState6[0],\n        setImageLink = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        categorie = _useState8[0],\n        setCategorie = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        article = _useState10[0],\n        setArticle = _useState10[1];\n\n  const articleByCat = e => {\n    console.log(e.target.value);\n    axios.get(`http://localhost:4000/articles/getCatId/${e.target.value}`).then(res => setArticle(res.data));\n  };\n\n  const onChangeTitle = event => {\n    const value = event.target.value;\n    setTitle(value);\n  };\n\n  const onChangeDescription = event => {\n    const value = event.target.value;\n    setDescription(value);\n  };\n\n  const onChangeImageLink = event => {\n    const value = event.target.value;\n    setImageLink(value);\n  };\n\n  const handleSubmitAdd = () => {\n    axios.post('http://localhost:4000/article/', {\n      art_name: title,\n      art_description: description,\n      art_photo: imageLink,\n      art_cat_id: 7\n    }).then(function (response) {\n      console.log('then', response);\n    }).catch(function (error) {\n      console.log('catch', error);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Admin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"titreForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Titre de l'article :\"), React.createElement(\"input\", {\n    placeholder: \"titre\",\n    value: title,\n    onChange: onChangeTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"descriptionForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"textDescriptionForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Description de l'article :\"), React.createElement(\"textarea\", {\n    placeholder: \"D\\xE9crivez votre article en quelques mots\",\n    id: \"story\",\n    name: \"story\",\n    rows: \"5\",\n    cols: \"138\",\n    value: description,\n    onChange: onChangeDescription,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"photoLinkForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Lien de l'image\"), React.createElement(\"input\", {\n    placeholder: \"lien de l'image\",\n    value: imageLink,\n    onChange: onChangeImageLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"articleCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Cat\\xE9gorie de l'article\"), React.createElement(\"select\", {\n    className: \"selectCards\",\n    onChange: e => articleByCat(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, categorie && categorie.map(categorie => React.createElement(\"option\", {\n    value: categorie.cat_id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, categorie.cat_name)))), React.createElement(\"button\", {\n    onClick: handleSubmitAdd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Ajouter cet article\"));\n}","map":{"version":3,"sources":["/Users/clementhere/Documents/Dév_web/Projets_perso/LeMecAVelo/client/src/components/Admin.js"],"names":["React","useState","useEffect","axios","Admin","title","setTitle","description","setDescription","imageLink","setImageLink","categorie","setCategorie","article","setArticle","articleByCat","e","console","log","target","value","get","then","res","data","onChangeTitle","event","onChangeDescription","onChangeImageLink","handleSubmitAdd","post","art_name","art_description","art_photo","art_cat_id","response","catch","error","map","cat_id","cat_name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nimport './Admin.css'\n\nexport default function Admin() {\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [imageLink, setImageLink] = useState('')\n  const [categorie, setCategorie] = useState([])\n  const [article, setArticle] = useState([])\n\n  const articleByCat = (e) => {\n    console.log(e.target.value)\n    axios.get(`http://localhost:4000/articles/getCatId/${e.target.value}`)\n      .then(res => setArticle(res.data))\n  }\n\n  const onChangeTitle = (event) => {\n    const { value } = event.target\n    setTitle(value)\n  }\n\n  const onChangeDescription = (event) => {\n    const { value } = event.target\n    setDescription(value)\n  }\n\n  const onChangeImageLink = (event) => {\n    const { value } = event.target\n    setImageLink(value)\n  }\n\n  const handleSubmitAdd = () => {\n    axios.post('http://localhost:4000/article/', {\n      art_name: title,\n      art_description: description,\n      art_photo: imageLink,\n      art_cat_id: 7,\n    })\n      .then(function (response) {\n        console.log('then', response);\n      })\n      .catch(function (error) {\n        console.log('catch', error);\n      });\n  }\n\n  return (\n    <div className='Admin'>\n      <div className=\"titreForm\">\n        <label>Titre de l'article :</label>\n        <input placeholder='titre' value={title} onChange={onChangeTitle} />\n      </div>\n      <div className=\"descriptionForm\">\n        <div className=\"textDescriptionForm\">Description de l'article :</div>\n        <textarea\n          placeholder=\"Décrivez votre article en quelques mots\"\n          id=\"story\"\n          name=\"story\"\n          rows=\"5\"\n          cols=\"138\"\n          value={description}\n          onChange={onChangeDescription}\n        />\n      </div>\n      <div className=\"photoLinkForm\">\n        <label>Lien de l'image</label>\n        <input placeholder=\"lien de l'image\" value={imageLink} onChange={onChangeImageLink} />\n      </div>\n      <div className=\"articleCategory\">\n        <label>Catégorie de l'article</label>\n        <select className=\"selectCards\" onChange={(e) => articleByCat(e)}>\n          {categorie && categorie.map((categorie) =>\n            <option value={categorie.cat_id}>{categorie.cat_name}</option>\n          )}\n        </select>\n      </div>\n      <button onClick={handleSubmitAdd}>Ajouter cet article</button>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}